#!/bin/bash

if [ $# -eq 0 ]; then
    echo "Usage: zinkrun <command>"
    echo ""
    echo "Run applications with Mesa Zink driver (OpenGL over Vulkan)"
    echo ""
    echo "Example:"
    echo "  zinkrun glxgears"
    echo ""
    exit 1
fi

__GLX_VENDOR_LIBRARY_NAME=mesa __EGL_VENDOR_LIBRARY_FILENAMES=/usr/share/glvnd/egl_vendor.d/50_mesa.json MESA_LOADER_DRIVER_OVERRIDE=zink GALLIUM_DRIVER=zink LIBGL_KOPPER_DRI2=1 "$@"
